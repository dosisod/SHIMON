language: python

python:
  - "3.6"
  - "3.7"
  - "3.8"

install:
  - pip install -r test-requirements.txt

script:
  - bandit -r SHIMON
  - bandit -r testing -s B101
  - pytest
  - vulture SHIMON whitelist.py
  - vulture testing whitelist.py
  - mypy -p SHIMON
  - "[[ $(mypy -p testing | tail -n 1 | awk '{print $2}') -le 2 ]]"